{% load static %}

<nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top" id="navbar"> 
  <div class="container-fluid">
      <a class="navbar-brand" href="#"><img id = "logo" src={% static "img/logo.png" %} alt="nothing"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse"   data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon" style="background-color:white;" ></span>
      </button>
      
      <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-auto">
          <li class="nav-item">
            <a class="nav-link active" style="color:white" aria-current="page" href={% url "home" %}>Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" style="color:white" href={% url 'store' %}>Shop</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" style="color:white" href={% url "about" %}>About Us</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" style="color:white" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Category
            </a>
            <ul class="dropdown-menu" style="background-color:skyblue">
              <li style="background-color:skyblue"><a class="dropdown-item"  href={% url 'store'%}> All products </a></li>
              {% for category in links %}
              <li style="background-color:skyblue"><a class="dropdown-item"  href="{{ category.get_url }}"> {{ category.category_name }} </a></li>
              {% endfor %}
            </ul>
          </li>
        </ul>
        <form class="d-flex">
          
        {% comment %} <button type="button" class="btn btn-outline-light me-2" style="border:3px solid white">Login</button> {% endcomment %}
        {% if user.id is not none %}
        <div class="mt-3 mt-lg-0 d-flex align-items-center">
          <a href="{% url 'logout' %}" class="btn btn-light mx-2">Logout</a>
          <br>
          <a href="{% url 'profile' %}" class="nav-link text-white" >
            <svg xmlns="http://www.w3.org/2000/svg" width="38" height="37" fill="currentColor" class="bi bi-person-circle ms-1" viewBox="0 0 16 16">
              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
              <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
            </svg>
            <br>
            <small>{{user.username}}</small>
          </a>
       </div>
        {% else %}
        <div class="mt-3 mt-lg-0 d-flex align-items-center">
          <a href="{% url 'login' %}" class="btn btn-light mx-2">Login</a>
          <a href="{% url 'register' %}" class="btn btn-warning">Create account</a>
       </div>
       {% endif %} 
        <br>
          <a href="{% url 'cart' %}">
          <svg xmlns="http://www.w3.org/2000/svg" style="color:#cd2a2a;margin-right: -25px; margin-top:10px;" width="50" height="40" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
          </svg>
        </a>
          <h5><span class="badge badge-pill badge-danger notify" style="margin-top:10px">{{ cart_count }}</span></h5>
        </form>    
      </div>
    </div>
  </nav>